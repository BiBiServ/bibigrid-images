HDFS/HADOOP


// .profile
export PATH=$PATH:/vol/cmg/share/hadoop/bin:/vol/cmg/share/hadoop/sbin
export SGE_ROOT=/var/lib/gridengine
export JAVA_HOME=/usr/lib/jvm/java-7-openjdk-amd64


// enable ssh login to localhost
cd ~/.ssh
ssh-keygen -y -f id_rsa >> authorized_keys



// User/Groups 
sudo adduser --group hadoop
sudo adduser --system --home /vol/hadoop --group hadoop --no-create-home hadoop
sudi adduser ubuntu hadoop

// Directories
sudo mkdir /vol/hadoop
sudo chgrp hadoop /vol/hadoop
sudo chown hadoop /vol/hadoop
sudo chmod 2775 /vol/hadoop


// Configuration


cd /vol/cmg/share/hadoop/etc/hadoop
qhost | grep ip | cut -f 1 -d  " " >> slaves

NameNode on Master:

core-site.xml
<property>
 <name>fs.defaultFS</name>
 <value>hdfs://<hostname>/</value>
</property>


hdfs-site.xml
<property>
 <name>dfs.permissions.superusergroup</name>
 <value>hadoop</value>
</property>
<property>
 <name>dfs.namenode.name.dir</name>
 <value>/vol/hadoop/nn</value>
</property>


DataNode(s):

hdfs-site.xml
<property>
 <name>dfs.datanode.data.dir</name>
 <value>/vol/hadoop/dn</value>
</property>


// NameNode preparation



 